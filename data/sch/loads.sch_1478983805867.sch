EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:special
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:frep
LIBS:labPsu-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 4 5
Title "Lab Psu (0-20V 0-2A)"
Date "2016-11-06"
Rev "B"
Comp ""
Comment1 "- based on David Jones' uSupply project"
Comment2 "- Preregulation with SEPIC converter "
Comment3 "- Powered from standard pc psu (12V)"
Comment4 "- 2 pcb concept. To be used together with frontpanel pcb"
$EndDescr
$Comp
L R R31
U 1 1 57E1C01A
P 1825 6325
F 0 "R31" V 1905 6325 40  0000 C CNN
F 1 "10R 10W" V 1832 6326 40  0000 C CNN
F 2 "" V 1755 6325 30  0001 C CNN
F 3 "" H 1825 6325 30  0000 C CNN
	1    1825 6325
	1    0    0    -1  
$EndComp
$Comp
L JUMPER3 JP3
U 1 1 57E1C059
P 1825 5975
F 0 "JP3" H 1875 5875 40  0000 L CNN
F 1 "JUMPER3" H 1825 6075 40  0000 C CNN
F 2 "frep:Pin_Proto_Straight_1x03" H 1825 5975 60  0001 C CNN
F 3 "" H 1825 5975 60  0000 C CNN
	1    1825 5975
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR046
U 1 1 57E1C08E
P 1825 6575
F 0 "#PWR046" H 1825 6575 30  0001 C CNN
F 1 "GND" H 1825 6505 30  0001 C CNN
F 2 "" H 1825 6575 60  0000 C CNN
F 3 "" H 1825 6575 60  0000 C CNN
	1    1825 6575
	1    0    0    -1  
$EndComp
$Comp
L R R32
U 1 1 57E1C1C8
P 3000 6325
F 0 "R32" V 3080 6325 40  0000 C CNN
F 1 "10R 10W" V 3007 6326 40  0000 C CNN
F 2 "" V 2930 6325 30  0001 C CNN
F 3 "" H 3000 6325 30  0000 C CNN
	1    3000 6325
	1    0    0    -1  
$EndComp
$Comp
L JUMPER3 JP4
U 1 1 57E1C1CF
P 3000 5975
F 0 "JP4" H 3050 5875 40  0000 L CNN
F 1 "JUMPER3" H 3000 6075 40  0000 C CNN
F 2 "frep:Pin_Proto_Straight_1x03" H 3000 5975 60  0001 C CNN
F 3 "" H 3000 5975 60  0000 C CNN
	1    3000 5975
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR047
U 1 1 57E1C1D6
P 3000 6575
F 0 "#PWR047" H 3000 6575 30  0001 C CNN
F 1 "GND" H 3000 6505 30  0001 C CNN
F 2 "" H 3000 6575 60  0000 C CNN
F 3 "" H 3000 6575 60  0000 C CNN
	1    3000 6575
	1    0    0    -1  
$EndComp
Text Notes 1925 5650 0    100  ~ 0
load resistors
Text HLabel 1575 5975 0    60   Input ~ 0
5V
Text HLabel 2075 5975 2    60   Input ~ 0
12V
Text HLabel 2750 5975 0    60   Input ~ 0
5V
Text HLabel 3250 5975 2    60   Input ~ 0
12V
Text Notes 4725 1050 0    100  ~ 0
constant current load
Wire Wire Line
	2175 2775 3100 2775
$Comp
L MOSFET-N Q1
U 1 1 57EEC1DA
P 5275 2875
F 0 "Q1" H 5300 3100 50  0000 L BNN
F 1 "MOSFET-N" H 5075 2675 50  0000 L BNN
F 2 "" V 5425 2875 50  0001 C CNN
F 3 "" V 5275 2875 60  0000 C CNN
	1    5275 2875
	0    -1   -1   0   
$EndComp
$Comp
L R R36
U 1 1 57EEC695
P 4725 3500
F 0 "R36" V 4805 3500 40  0000 C CNN
F 1 "1K" V 4732 3501 40  0000 C CNN
F 2 "" V 4655 3500 30  0001 C CNN
F 3 "" H 4725 3500 30  0000 C CNN
	1    4725 3500
	0    1    1    0   
$EndComp
$Comp
L C C20
U 1 1 57EEC72B
P 4325 3175
F 0 "C20" H 4325 3275 40  0000 L CNN
F 1 "22n" H 4331 3090 40  0000 L CNN
F 2 "" H 4363 3025 30  0001 C CNN
F 3 "" H 4325 3175 60  0000 C CNN
	1    4325 3175
	1    0    0    -1  
$EndComp
$Comp
L R R35
U 1 1 57EEC79F
P 4725 2875
F 0 "R35" V 4805 2875 40  0000 C CNN
F 1 "470" V 4732 2876 40  0000 C CNN
F 2 "" V 4655 2875 30  0001 C CNN
F 3 "" H 4725 2875 30  0000 C CNN
	1    4725 2875
	0    1    1    0   
$EndComp
Wire Wire Line
	4100 2875 4475 2875
Connection ~ 4325 2875
$Comp
L CONN_2 P8
U 1 1 57EECF39
P 4375 1900
F 0 "P8" V 4325 1900 40  0000 C CNN
F 1 "TERMINAL" V 4425 1900 40  0000 C CNN
F 2 "frep:terminal_3p5mm_2pin" H 4375 1900 60  0001 C CNN
F 3 "" H 4375 1900 60  0000 C CNN
	1    4375 1900
	-1   0    0    -1  
$EndComp
Wire Wire Line
	5275 3900 5275 3075
$Comp
L R R40
U 1 1 57EED60A
P 5375 4150
F 0 "R40" V 5455 4150 40  0000 C CNN
F 1 "10R 1%" V 5382 4151 40  0000 C CNN
F 2 "" V 5305 4150 30  0001 C CNN
F 3 "" H 5375 4150 30  0000 C CNN
	1    5375 4150
	1    0    0    -1  
$EndComp
$Comp
L R R41
U 1 1 57EED755
P 5575 4150
F 0 "R41" V 5655 4150 40  0000 C CNN
F 1 "10R 1%" V 5582 4151 40  0000 C CNN
F 2 "" V 5505 4150 30  0001 C CNN
F 3 "" H 5575 4150 30  0000 C CNN
	1    5575 4150
	1    0    0    -1  
$EndComp
$Comp
L R R44
U 1 1 57EED7FD
P 5775 4150
F 0 "R44" V 5855 4150 40  0000 C CNN
F 1 "10R 1%" V 5782 4151 40  0000 C CNN
F 2 "" V 5705 4150 30  0001 C CNN
F 3 "" H 5775 4150 30  0000 C CNN
	1    5775 4150
	1    0    0    -1  
$EndComp
$Comp
L R R45
U 1 1 57EED803
P 5975 4150
F 0 "R45" V 6055 4150 40  0000 C CNN
F 1 "10R 1%" V 5982 4151 40  0000 C CNN
F 2 "" V 5905 4150 30  0001 C CNN
F 3 "" H 5975 4150 30  0000 C CNN
	1    5975 4150
	1    0    0    -1  
$EndComp
$Comp
L R R47
U 1 1 57EED835
P 6175 4150
F 0 "R47" V 6255 4150 40  0000 C CNN
F 1 "10R 1%" V 6182 4151 40  0000 C CNN
F 2 "" V 6105 4150 30  0001 C CNN
F 3 "" H 6175 4150 30  0000 C CNN
	1    6175 4150
	1    0    0    -1  
$EndComp
$Comp
L R R33
U 1 1 57EED95F
P 4375 4150
F 0 "R33" V 4455 4150 40  0000 C CNN
F 1 "10R 1%" V 4382 4151 40  0000 C CNN
F 2 "" V 4305 4150 30  0001 C CNN
F 3 "" H 4375 4150 30  0000 C CNN
	1    4375 4150
	1    0    0    -1  
$EndComp
$Comp
L R R34
U 1 1 57EED965
P 4575 4150
F 0 "R34" V 4655 4150 40  0000 C CNN
F 1 "10R 1%" V 4582 4151 40  0000 C CNN
F 2 "" V 4505 4150 30  0001 C CNN
F 3 "" H 4575 4150 30  0000 C CNN
	1    4575 4150
	1    0    0    -1  
$EndComp
$Comp
L R R37
U 1 1 57EED96B
P 4775 4150
F 0 "R37" V 4855 4150 40  0000 C CNN
F 1 "10R 1%" V 4782 4151 40  0000 C CNN
F 2 "" V 4705 4150 30  0001 C CNN
F 3 "" H 4775 4150 30  0000 C CNN
	1    4775 4150
	1    0    0    -1  
$EndComp
$Comp
L R R38
U 1 1 57EED971
P 4975 4150
F 0 "R38" V 5055 4150 40  0000 C CNN
F 1 "10R 1%" V 4982 4151 40  0000 C CNN
F 2 "" V 4905 4150 30  0001 C CNN
F 3 "" H 4975 4150 30  0000 C CNN
	1    4975 4150
	1    0    0    -1  
$EndComp
$Comp
L R R39
U 1 1 57EED977
P 5175 4150
F 0 "R39" V 5255 4150 40  0000 C CNN
F 1 "10R 1%" V 5182 4151 40  0000 C CNN
F 2 "" V 5105 4150 30  0001 C CNN
F 3 "" H 5175 4150 30  0000 C CNN
	1    5175 4150
	1    0    0    -1  
$EndComp
Wire Wire Line
	4375 3900 6175 3900
Connection ~ 5975 3900
Connection ~ 5775 3900
Connection ~ 5575 3900
Connection ~ 5375 3900
Connection ~ 5175 3900
Connection ~ 4975 3900
Connection ~ 4775 3900
Connection ~ 4575 3900
Connection ~ 5275 3900
Wire Wire Line
	4375 4400 6175 4400
Connection ~ 4575 4400
Connection ~ 4775 4400
Connection ~ 4975 4400
Connection ~ 5175 4400
Connection ~ 5375 4400
Connection ~ 5575 4400
Connection ~ 5775 4400
Connection ~ 5975 4400
Wire Wire Line
	4725 2000 4725 2100
Wire Wire Line
	4725 1800 5425 1800
$Comp
L GND #PWR048
U 1 1 57EEE590
P 4725 2100
F 0 "#PWR048" H 4725 2100 30  0001 C CNN
F 1 "GND" H 4725 2030 30  0001 C CNN
F 2 "" H 4725 2100 60  0000 C CNN
F 3 "" H 4725 2100 60  0000 C CNN
	1    4725 2100
	-1   0    0    -1  
$EndComp
$Comp
L GND #PWR049
U 1 1 57EEF15E
P 6125 2400
F 0 "#PWR049" H 6125 2400 30  0001 C CNN
F 1 "GND" H 6125 2330 30  0001 C CNN
F 2 "" H 6125 2400 60  0000 C CNN
F 3 "" H 6125 2400 60  0000 C CNN
	1    6125 2400
	-1   0    0    -1  
$EndComp
$Comp
L GND #PWR050
U 1 1 57EEFF78
P 5275 4550
F 0 "#PWR050" H 5275 4550 30  0001 C CNN
F 1 "GND" H 5275 4480 30  0001 C CNN
F 2 "" H 5275 4550 60  0000 C CNN
F 3 "" H 5275 4550 60  0000 C CNN
	1    5275 4550
	1    0    0    -1  
$EndComp
Wire Wire Line
	5275 4550 5275 4400
Connection ~ 5275 4400
Text Notes 3850 4250 0    70   ~ 0
1R \nsense
Text Notes 1750 2650 0    70   ~ 0
SetCurrent:  \n0-2V => 0-2A
$Comp
L R R46
U 1 1 57EF3B2F
P 6125 2150
F 0 "R46" V 6205 2150 40  0000 C CNN
F 1 "1K 0.1%" V 6132 2151 40  0000 C CNN
F 2 "" V 6055 2150 30  0001 C CNN
F 3 "" H 6125 2150 30  0000 C CNN
	1    6125 2150
	-1   0    0    -1  
$EndComp
$Comp
L R R43
U 1 1 57EF3CCD
P 5675 1900
F 0 "R43" V 5755 1900 40  0000 C CNN
F 1 "18K 0.1%" V 5682 1901 40  0000 C CNN
F 2 "" V 5605 1900 30  0001 C CNN
F 3 "" H 5675 1900 30  0000 C CNN
	1    5675 1900
	0    -1   1    0   
$EndComp
$Comp
L R R42
U 1 1 57EF3D70
P 5675 1700
F 0 "R42" V 5755 1700 40  0000 C CNN
F 1 "18K 0.1%" V 5682 1701 40  0000 C CNN
F 2 "" V 5605 1700 30  0001 C CNN
F 3 "" H 5675 1700 30  0000 C CNN
	1    5675 1700
	0    -1   1    0   
$EndComp
Wire Wire Line
	5925 1700 5925 1900
Wire Wire Line
	5925 1800 6625 1800
Connection ~ 5925 1800
Wire Wire Line
	6125 1900 6125 1800
Connection ~ 6125 1800
Wire Wire Line
	5425 1700 5425 1900
Connection ~ 5425 1800
Wire Wire Line
	4975 3500 6575 3500
Connection ~ 5275 3500
Wire Wire Line
	3100 3500 4475 3500
Connection ~ 4325 3500
Wire Wire Line
	4325 2875 4325 2975
Wire Wire Line
	4325 3375 4325 3500
$Comp
L C C21
U 1 1 57EF5FDE
P 6375 2150
F 0 "C21" H 6375 2250 40  0000 L CNN
F 1 "100n" H 6381 2065 40  0000 L CNN
F 2 "" H 6413 2000 30  0001 C CNN
F 3 "" H 6375 2150 60  0000 C CNN
	1    6375 2150
	1    0    0    1   
$EndComp
Connection ~ 7625 1900
Wire Wire Line
	6375 1950 6375 1800
Connection ~ 6375 1800
$Comp
L GND #PWR051
U 1 1 57EF660D
P 6375 2400
F 0 "#PWR051" H 6375 2400 30  0001 C CNN
F 1 "GND" H 6375 2330 30  0001 C CNN
F 2 "" H 6375 2400 60  0000 C CNN
F 3 "" H 6375 2400 60  0000 C CNN
	1    6375 2400
	-1   0    0    -1  
$EndComp
Wire Wire Line
	6375 2350 6375 2400
$Comp
L C C24
U 1 1 57EF688F
P 8125 2150
F 0 "C24" H 8125 2250 40  0000 L CNN
F 1 "100n" H 8131 2065 40  0000 L CNN
F 2 "" H 8163 2000 30  0001 C CNN
F 3 "" H 8125 2150 60  0000 C CNN
	1    8125 2150
	1    0    0    1   
$EndComp
$Comp
L GND #PWR052
U 1 1 57EF6985
P 8125 2400
F 0 "#PWR052" H 8125 2400 30  0001 C CNN
F 1 "GND" H 8125 2330 30  0001 C CNN
F 2 "" H 8125 2400 60  0000 C CNN
F 3 "" H 8125 2400 60  0000 C CNN
	1    8125 2400
	-1   0    0    -1  
$EndComp
Wire Wire Line
	8125 2350 8125 2400
Wire Wire Line
	8125 1950 8125 1900
Connection ~ 8125 1900
Wire Wire Line
	7575 3600 8400 3600
Connection ~ 7575 3600
$Comp
L C C23
U 1 1 57EF7B50
P 8025 3875
F 0 "C23" H 8025 3975 40  0000 L CNN
F 1 "100n" H 8031 3790 40  0000 L CNN
F 2 "" H 8063 3725 30  0001 C CNN
F 3 "" H 8025 3875 60  0000 C CNN
	1    8025 3875
	1    0    0    1   
$EndComp
$Comp
L GND #PWR053
U 1 1 57EF7B56
P 8025 4125
F 0 "#PWR053" H 8025 4125 30  0001 C CNN
F 1 "GND" H 8025 4055 30  0001 C CNN
F 2 "" H 8025 4125 60  0000 C CNN
F 3 "" H 8025 4125 60  0000 C CNN
	1    8025 4125
	-1   0    0    -1  
$EndComp
Wire Wire Line
	8025 4075 8025 4125
Wire Wire Line
	8025 3675 8025 3600
Connection ~ 8025 3600
Connection ~ 5275 1800
Connection ~ 3100 2775
Text HLabel 8400 1900 2    60   Output ~ 0
V_Load
Text HLabel 8400 3600 2    60   Output ~ 0
I_Load
Text Notes 8975 2000 0    70   ~ 0
V_Load:  \n0-20V => 0-2V
Text Notes 8875 3700 0    70   ~ 0
I_Load:  \n0-2A => 0-2V
$Comp
L GND #PWR054
U 1 1 57F1092B
P 6100 7550
F 0 "#PWR054" H 6100 7550 30  0001 C CNN
F 1 "GND" H 6100 7480 30  0001 C CNN
F 2 "" H 6100 7550 60  0000 C CNN
F 3 "" H 6100 7550 60  0000 C CNN
	1    6100 7550
	-1   0    0    -1  
$EndComp
$Comp
L C C19
U 1 1 57F10CA8
P 5375 6950
F 0 "C19" H 5375 7050 40  0000 L CNN
F 1 "100n" H 5381 6865 40  0000 L CNN
F 2 "" H 5413 6800 30  0001 C CNN
F 3 "" H 5375 6950 60  0000 C CNN
	1    5375 6950
	1    0    0    1   
$EndComp
$Comp
L GND #PWR055
U 1 1 57F1182D
P 5375 7150
F 0 "#PWR055" H 5375 7150 30  0001 C CNN
F 1 "GND" H 5375 7080 30  0001 C CNN
F 2 "" H 5375 7150 60  0000 C CNN
F 3 "" H 5375 7150 60  0000 C CNN
	1    5375 7150
	-1   0    0    -1  
$EndComp
Text HLabel 5375 6750 0    60   Input ~ 0
3V3Reg
Wire Wire Line
	5275 2675 5275 1800
$Comp
L C C31
U 1 1 57FBE6D9
P 3300 2475
F 0 "C31" H 3300 2575 40  0000 L CNN
F 1 "100n" H 3306 2390 40  0000 L CNN
F 2 "" H 3338 2325 30  0001 C CNN
F 3 "" H 3300 2475 60  0000 C CNN
	1    3300 2475
	0    -1   1    0   
$EndComp
$Comp
L LM324N U11
U 2 1 581E16BC
P 3600 2875
F 0 "U11" H 3650 3075 60  0000 C CNN
F 1 "LM324N" H 3750 2675 50  0000 C CNN
F 2 "" H 3600 2875 60  0001 C CNN
F 3 "" H 3600 2875 60  0000 C CNN
	2    3600 2875
	1    0    0    -1  
$EndComp
$Comp
L LM324N U11
U 4 1 581E1738
P 7125 1900
F 0 "U11" H 7175 2100 60  0000 C CNN
F 1 "LM324N" H 7275 1700 50  0000 C CNN
F 2 "" H 7125 1900 60  0001 C CNN
F 3 "" H 7125 1900 60  0000 C CNN
	4    7125 1900
	1    0    0    -1  
$EndComp
$Comp
L LM324N U11
U 3 1 581E17AB
P 7075 3600
F 0 "U11" H 7125 3800 60  0000 C CNN
F 1 "LM324N" H 7225 3400 50  0000 C CNN
F 2 "" H 7075 3600 60  0001 C CNN
F 3 "" H 7075 3600 60  0000 C CNN
	3    7075 3600
	1    0    0    -1  
$EndComp
$Comp
L LM324N U11
U 1 1 581E1824
P 6200 7150
F 0 "U11" H 6250 7350 60  0000 C CNN
F 1 "LM324N" H 6350 6950 50  0000 C CNN
F 2 "" H 6200 7150 60  0001 C CNN
F 3 "" H 6200 7150 60  0000 C CNN
	1    6200 7150
	1    0    0    -1  
$EndComp
NoConn ~ 6700 7150
NoConn ~ 5700 7250
NoConn ~ 5700 7050
Wire Wire Line
	6100 6750 5375 6750
Wire Wire Line
	3100 2975 3100 3500
Wire Wire Line
	3100 2775 3100 2475
Wire Wire Line
	6575 3700 6575 4125
Wire Wire Line
	6575 4125 7575 4125
Wire Wire Line
	7575 4125 7575 3600
Wire Wire Line
	7625 1900 8400 1900
Wire Wire Line
	6625 2000 6625 2425
Wire Wire Line
	6625 2425 7625 2425
Wire Wire Line
	7625 2425 7625 1900
$Comp
L PWR_FLAG #FLG056
U 1 1 581E4257
P 3500 2475
F 0 "#FLG056" H 3500 2570 30  0001 C CNN
F 1 "PWR_FLAG" H 3500 2655 30  0000 C CNN
F 2 "" H 3500 2475 60  0000 C CNN
F 3 "" H 3500 2475 60  0000 C CNN
	1    3500 2475
	1    0    0    -1  
$EndComp
Text Notes 5325 1500 0    70   ~ 0
Voltage divider (/10) \nand lowpass filter
Text HLabel 2175 2775 0    60   Input ~ 0
SetCurrent
$Comp
L CONN_2 P10
U 1 1 581FF598
P 6025 2900
F 0 "P10" V 5975 2900 40  0000 C CNN
F 1 "Heatsink" V 6075 2900 40  0000 C CNN
F 2 "" H 6025 2900 60  0001 C CNN
F 3 "" H 6025 2900 60  0000 C CNN
	1    6025 2900
	1    0    0    -1  
$EndComp
NoConn ~ 5675 3000
NoConn ~ 5675 2800
$EndSCHEMATC
