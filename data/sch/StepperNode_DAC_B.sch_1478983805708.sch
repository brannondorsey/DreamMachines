EESchema Schematic File Version 2
LIBS:rloopStepperNode-rescue
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:rloop
LIBS:rloopStepperNode-cache
EELAYER 25 0
EELAYER END
$Descr A3 16535 11693
encoding utf-8
Sheet 13 15
Title "DAC Channel B"
Date ""
Rev "1"
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Text HLabel 5550 5950 0    60   Output ~ 0
B_HE1_THROTTLE
Text HLabel 5550 6050 0    60   Output ~ 0
B_HE2_THROTTLE
Text HLabel 5550 6150 0    60   Output ~ 0
B_HE3_THROTTLE
Text HLabel 5550 6250 0    60   Output ~ 0
B_HE4_THROTTLE
Text HLabel 5550 6350 0    60   Output ~ 0
B_HE5_THROTTLE
Text HLabel 5550 6450 0    60   Output ~ 0
B_HE6_THROTTLE
Text HLabel 5550 6550 0    60   Output ~ 0
B_HE7_THROTTLE
Text HLabel 5550 6650 0    60   Output ~ 0
B_HE8_THROTTLE
Text Notes 11850 10350 0    118  ~ 0
rLoop - Stepper Node\nDAC Channel B\n
Text Notes 11900 10500 0    60   ~ 0
Original Author: SafetyLok
Text HLabel 10750 5050 2    60   BiDi ~ 0
CHB_I2C_SDA
Text HLabel 10750 5150 2    60   Input ~ 0
CHB_I2C_SCL
Text HLabel 10750 3700 2    60   Input ~ 0
CHB_NDSC_CLR_0
Text HLabel 10750 3800 2    60   Input ~ 0
CHB_NDAC_CLR_1
Text HLabel 10750 4000 2    60   Input ~ 0
CHB_DAC_NRST
Text HLabel 10750 4100 2    60   Output ~ 0
CHB_DAC_NDATA_AVAIL
Text HLabel 10750 4200 2    60   Input ~ 0
CHB_DAC_NCNVT
Text HLabel 5550 6750 0    60   Output ~ 0
B_AP1_THROTTLE
Text HLabel 5550 6850 0    60   Output ~ 0
B_AP2_THROTTLE
Wire Wire Line
	9650 5050 10750 5050
Wire Wire Line
	9650 5150 10750 5150
$Comp
L GNDD #PWR232
U 1 1 5756580D
P 9950 5650
F 0 "#PWR232" H 9950 5400 50  0001 C CNN
F 1 "GNDD" H 9950 5500 50  0000 C CNN
F 2 "" H 9950 5650 50  0000 C CNN
F 3 "" H 9950 5650 50  0000 C CNN
	1    9950 5650
	1    0    0    -1  
$EndComp
Wire Wire Line
	9650 4000 10750 4000
Wire Wire Line
	9650 4100 10750 4100
Wire Wire Line
	9650 3700 10750 3700
Wire Wire Line
	10750 3800 9650 3800
Wire Wire Line
	10750 4200 9650 4200
Wire Wire Line
	6950 4250 5550 4250
Wire Wire Line
	5550 4350 6950 4350
Wire Wire Line
	6950 5950 5550 5950
Wire Wire Line
	6950 6050 5550 6050
Wire Wire Line
	6950 6150 5550 6150
Wire Wire Line
	6950 6250 5550 6250
Wire Wire Line
	6950 6350 5550 6350
Wire Wire Line
	6950 6450 5550 6450
Wire Wire Line
	6950 6550 5550 6550
Wire Wire Line
	6950 6650 5550 6650
Wire Wire Line
	6950 6750 5550 6750
Wire Wire Line
	5550 6850 6950 6850
Text Notes 9600 4400 0    60   ~ 0
Consider alarm on LED
Text Notes 9600 4500 0    60   ~ 0
Alarm could be used for MLP out of range.
Wire Wire Line
	9950 3300 9950 4100
Connection ~ 9950 4100
Wire Wire Line
	9650 5250 9950 5250
Wire Wire Line
	9950 5250 9950 5650
Wire Wire Line
	9650 5350 9950 5350
Connection ~ 9950 5350
Wire Wire Line
	9650 5450 9950 5450
Connection ~ 9950 5450
Wire Wire Line
	9650 5550 9950 5550
Connection ~ 9950 5550
Text Notes 10050 5550 0    60   ~ 0
I2C Addx = 0xC2,0xC3
$Comp
L GNDD #PWR229
U 1 1 57565842
P 8650 7800
F 0 "#PWR229" H 8650 7550 50  0001 C CNN
F 1 "GNDD" H 8650 7650 50  0000 C CNN
F 2 "" H 8650 7800 50  0000 C CNN
F 3 "" H 8650 7800 50  0000 C CNN
	1    8650 7800
	1    0    0    -1  
$EndComp
Wire Wire Line
	8550 7700 8650 7700
Wire Wire Line
	8650 7700 8650 7800
Wire Wire Line
	6600 3950 6950 3950
$Comp
L GNDA #PWR226
U 1 1 57565852
P 8350 7800
F 0 "#PWR226" H 8350 7550 50  0001 C CNN
F 1 "GNDA" H 8350 7650 50  0000 C CNN
F 2 "" H 8350 7800 50  0000 C CNN
F 3 "" H 8350 7800 50  0000 C CNN
	1    8350 7800
	1    0    0    -1  
$EndComp
$Comp
L GNDA #PWR218
U 1 1 57565858
P 6950 4050
F 0 "#PWR218" H 6950 3800 50  0001 C CNN
F 1 "GNDA" H 6950 3900 50  0000 C CNN
F 2 "" H 6950 4050 50  0000 C CNN
F 3 "" H 6950 4050 50  0000 C CNN
	1    6950 4050
	0    1    1    0   
$EndComp
Wire Wire Line
	8350 7700 8350 7800
Wire Wire Line
	8300 2950 8300 3100
Wire Wire Line
	8700 2950 8700 3100
Wire Wire Line
	8700 3100 8500 3100
$Comp
L GNDA #PWR213
U 1 1 57565876
P 6300 3950
F 0 "#PWR213" H 6300 3700 50  0001 C CNN
F 1 "GNDA" H 6300 3800 50  0000 C CNN
F 2 "" H 6300 3950 50  0000 C CNN
F 3 "" H 6300 3950 50  0000 C CNN
	1    6300 3950
	0    1    1    0   
$EndComp
Wire Wire Line
	6950 7350 6650 7350
Wire Wire Line
	6650 7350 6650 7250
Wire Wire Line
	6650 7250 6950 7250
Text Notes 6300 7600 0    60   ~ 0
Using Internal\nReference
Text Notes 9550 6850 0    60   ~ 0
Could put an LED on this for debug
$Comp
L GNDA #PWR215
U 1 1 575CA01E
P 6350 1600
F 0 "#PWR215" H 6350 1350 50  0001 C CNN
F 1 "GNDA" H 6350 1450 50  0000 C CNN
F 2 "" H 6350 1600 50  0000 C CNN
F 3 "" H 6350 1600 50  0000 C CNN
	1    6350 1600
	1    0    0    -1  
$EndComp
$Comp
L GNDA #PWR217
U 1 1 575CA02A
P 6750 1600
F 0 "#PWR217" H 6750 1350 50  0001 C CNN
F 1 "GNDA" H 6750 1450 50  0000 C CNN
F 2 "" H 6750 1600 50  0000 C CNN
F 3 "" H 6750 1600 50  0000 C CNN
	1    6750 1600
	1    0    0    -1  
$EndComp
$Comp
L GNDA #PWR220
U 1 1 575CA036
P 7100 1600
F 0 "#PWR220" H 7100 1350 50  0001 C CNN
F 1 "GNDA" H 7100 1450 50  0000 C CNN
F 2 "" H 7100 1600 50  0000 C CNN
F 3 "" H 7100 1600 50  0000 C CNN
	1    7100 1600
	1    0    0    -1  
$EndComp
$Comp
L GNDA #PWR222
U 1 1 575CA042
P 7500 1600
F 0 "#PWR222" H 7500 1350 50  0001 C CNN
F 1 "GNDA" H 7500 1450 50  0000 C CNN
F 2 "" H 7500 1600 50  0000 C CNN
F 3 "" H 7500 1600 50  0000 C CNN
	1    7500 1600
	1    0    0    -1  
$EndComp
$Comp
L GNDD #PWR224
U 1 1 575CA04E
P 8000 1600
F 0 "#PWR224" H 8000 1350 50  0001 C CNN
F 1 "GNDD" H 8000 1450 50  0000 C CNN
F 2 "" H 8000 1600 50  0000 C CNN
F 3 "" H 8000 1600 50  0000 C CNN
	1    8000 1600
	1    0    0    -1  
$EndComp
$Comp
L GNDD #PWR228
U 1 1 575CA05A
P 8400 1600
F 0 "#PWR228" H 8400 1350 50  0001 C CNN
F 1 "GNDD" H 8400 1450 50  0000 C CNN
F 2 "" H 8400 1600 50  0000 C CNN
F 3 "" H 8400 1600 50  0000 C CNN
	1    8400 1600
	1    0    0    -1  
$EndComp
$Comp
L C_100nF_50V C38
U 1 1 575CA060
P 6350 1450
F 0 "C38" H 6375 1550 50  0000 L CNN
F 1 "C_100nF_50V" H 6375 1350 50  0000 L CNN
F 2 "RLOOP_FOOTPRINTS:rLoop_C_0603" H 6388 1300 50  0001 C CNN
F 3 "" H 6350 1450 50  0000 C CNN
	1    6350 1450
	1    0    0    -1  
$EndComp
$Comp
L C_100nF_50V C40
U 1 1 575CA067
P 6750 1450
F 0 "C40" H 6775 1550 50  0000 L CNN
F 1 "C_100nF_50V" H 6775 1350 50  0000 L CNN
F 2 "RLOOP_FOOTPRINTS:rLoop_C_0603" H 6788 1300 50  0001 C CNN
F 3 "" H 6750 1450 50  0000 C CNN
	1    6750 1450
	1    0    0    -1  
$EndComp
$Comp
L C_100nF_50V C41
U 1 1 575CA06E
P 7100 1450
F 0 "C41" H 7125 1550 50  0000 L CNN
F 1 "C_100nF_50V" H 7125 1350 50  0000 L CNN
F 2 "RLOOP_FOOTPRINTS:rLoop_C_0603" H 7138 1300 50  0001 C CNN
F 3 "" H 7100 1450 50  0000 C CNN
	1    7100 1450
	1    0    0    -1  
$EndComp
$Comp
L C_100nF_50V C42
U 1 1 575CA075
P 7500 1450
F 0 "C42" H 7525 1550 50  0000 L CNN
F 1 "C_100nF_50V" H 7525 1350 50  0000 L CNN
F 2 "RLOOP_FOOTPRINTS:rLoop_C_0603" H 7538 1300 50  0001 C CNN
F 3 "" H 7500 1450 50  0000 C CNN
	1    7500 1450
	1    0    0    -1  
$EndComp
$Comp
L C_100nF_50V C43
U 1 1 575CA07C
P 8000 1450
F 0 "C43" H 8025 1550 50  0000 L CNN
F 1 "C_100nF_50V" H 8025 1350 50  0000 L CNN
F 2 "RLOOP_FOOTPRINTS:rLoop_C_0603" H 8038 1300 50  0001 C CNN
F 3 "" H 8000 1450 50  0000 C CNN
	1    8000 1450
	1    0    0    -1  
$EndComp
$Comp
L C_100nF_50V C44
U 1 1 575CA083
P 8400 1450
F 0 "C44" H 8425 1550 50  0000 L CNN
F 1 "C_100nF_50V" H 8425 1350 50  0000 L CNN
F 2 "RLOOP_FOOTPRINTS:rLoop_C_0603" H 8438 1300 50  0001 C CNN
F 3 "" H 8400 1450 50  0000 C CNN
	1    8400 1450
	1    0    0    -1  
$EndComp
Text HLabel 5550 4250 0    60   Input ~ 0
BRAKE1_TEMP
Text HLabel 5550 4350 0    60   Input ~ 0
BRAKE2_TEMP
$Comp
L AMC7812BSPAP U25
U 1 1 575CAFF6
P 7150 3300
F 0 "U25" H 9400 3350 60  0000 C CNN
F 1 "AMC7812BSPAP" H 9250 -950 60  0000 C CNN
F 2 "RLOOP_FOOTPRINTS:rLoop_PQFP64_10x10mm" H 8450 1800 60  0001 C CNN
F 3 "" H 8450 1800 60  0000 C CNN
	1    7150 3300
	1    0    0    -1  
$EndComp
$Comp
L 10K R18
U 1 1 5766B30F
P 9950 3150
F 0 "R18" V 10030 3150 50  0000 C CNN
F 1 "10K" V 9950 3150 50  0000 C CNN
F 2 "RLOOP_FOOTPRINTS:rLoop_R_0603" V 9880 3150 50  0001 C CNN
F 3 "" H 9950 3150 50  0000 C CNN
	1    9950 3150
	1    0    0    -1  
$EndComp
$Comp
L +3V3_B #PWR231
U 1 1 5766B37C
P 9950 3000
F 0 "#PWR231" H 9950 2850 50  0001 C CNN
F 1 "+3V3_B" H 9950 3140 50  0000 C CNN
F 2 "" H 9950 3000 60  0000 C CNN
F 3 "" H 9950 3000 60  0000 C CNN
	1    9950 3000
	1    0    0    -1  
$EndComp
$Comp
L +3V3_B #PWR230
U 1 1 5766B3A0
P 8700 2950
F 0 "#PWR230" H 8700 2800 50  0001 C CNN
F 1 "+3V3_B" H 8700 3090 50  0000 C CNN
F 2 "" H 8700 2950 60  0000 C CNN
F 3 "" H 8700 2950 60  0000 C CNN
	1    8700 2950
	1    0    0    -1  
$EndComp
$Comp
L +3V3_B #PWR227
U 1 1 5766B3C7
P 8400 1300
F 0 "#PWR227" H 8400 1150 50  0001 C CNN
F 1 "+3V3_B" H 8400 1440 50  0000 C CNN
F 2 "" H 8400 1300 60  0000 C CNN
F 3 "" H 8400 1300 60  0000 C CNN
	1    8400 1300
	1    0    0    -1  
$EndComp
$Comp
L +3V3_B #PWR223
U 1 1 5766B3D8
P 8000 1300
F 0 "#PWR223" H 8000 1150 50  0001 C CNN
F 1 "+3V3_B" H 8000 1440 50  0000 C CNN
F 2 "" H 8000 1300 60  0000 C CNN
F 3 "" H 8000 1300 60  0000 C CNN
	1    8000 1300
	1    0    0    -1  
$EndComp
$Comp
L +5V_B #PWR225
U 1 1 5766BBD3
P 8300 2950
F 0 "#PWR225" H 8300 2800 50  0001 C CNN
F 1 "+5V_B" H 8300 3090 50  0000 C CNN
F 2 "" H 8300 2950 60  0000 C CNN
F 3 "" H 8300 2950 60  0000 C CNN
	1    8300 2950
	1    0    0    -1  
$EndComp
$Comp
L C_4u7_25V C39
U 1 1 5766BC02
P 6450 3950
F 0 "C39" H 6475 4050 50  0000 L CNN
F 1 "C_4u7_25V" H 6475 3850 50  0000 L CNN
F 2 "RLOOP_FOOTPRINTS:rLoop_C_0805" H 6488 3800 50  0001 C CNN
F 3 "" H 6450 3950 50  0000 C CNN
	1    6450 3950
	0    1    1    0   
$EndComp
$Comp
L +5V_B #PWR221
U 1 1 5766BCAE
P 7500 1300
F 0 "#PWR221" H 7500 1150 50  0001 C CNN
F 1 "+5V_B" H 7500 1440 50  0000 C CNN
F 2 "" H 7500 1300 60  0000 C CNN
F 3 "" H 7500 1300 60  0000 C CNN
	1    7500 1300
	1    0    0    -1  
$EndComp
$Comp
L +5V_B #PWR219
U 1 1 5766BCBF
P 7100 1300
F 0 "#PWR219" H 7100 1150 50  0001 C CNN
F 1 "+5V_B" H 7100 1440 50  0000 C CNN
F 2 "" H 7100 1300 60  0000 C CNN
F 3 "" H 7100 1300 60  0000 C CNN
	1    7100 1300
	1    0    0    -1  
$EndComp
$Comp
L +5V_B #PWR216
U 1 1 5766BCD0
P 6750 1300
F 0 "#PWR216" H 6750 1150 50  0001 C CNN
F 1 "+5V_B" H 6750 1440 50  0000 C CNN
F 2 "" H 6750 1300 60  0000 C CNN
F 3 "" H 6750 1300 60  0000 C CNN
	1    6750 1300
	1    0    0    -1  
$EndComp
$Comp
L +5V_B #PWR214
U 1 1 5766BCE1
P 6350 1300
F 0 "#PWR214" H 6350 1150 50  0001 C CNN
F 1 "+5V_B" H 6350 1440 50  0000 C CNN
F 2 "" H 6350 1300 60  0000 C CNN
F 3 "" H 6350 1300 60  0000 C CNN
	1    6350 1300
	1    0    0    -1  
$EndComp
NoConn ~ 6950 3450
NoConn ~ 6950 3550
NoConn ~ 6950 3650
NoConn ~ 6950 3750
NoConn ~ 6950 4450
NoConn ~ 6950 4550
NoConn ~ 6950 4650
NoConn ~ 6950 4750
NoConn ~ 6950 4850
NoConn ~ 6950 4950
NoConn ~ 6950 5050
NoConn ~ 6950 5150
NoConn ~ 6950 5250
NoConn ~ 6950 5350
NoConn ~ 6950 5450
NoConn ~ 6950 5550
NoConn ~ 6950 5650
NoConn ~ 6950 5750
NoConn ~ 6950 6950
NoConn ~ 6950 7050
Wire Wire Line
	7950 7700 7950 7800
Wire Wire Line
	7950 7800 8250 7800
Wire Wire Line
	8250 7800 8250 7700
Wire Wire Line
	8150 7700 8150 7800
Connection ~ 8150 7800
Wire Wire Line
	8050 7700 8050 7800
Connection ~ 8050 7800
NoConn ~ 9650 6400
NoConn ~ 9650 6500
NoConn ~ 9650 6600
NoConn ~ 9650 6700
NoConn ~ 9650 3900
Wire Wire Line
	7900 3100 7900 3050
Wire Wire Line
	7900 3050 8200 3050
Wire Wire Line
	8200 3050 8200 3100
Wire Wire Line
	8000 3100 8000 3050
Connection ~ 8000 3050
$EndSCHEMATC
