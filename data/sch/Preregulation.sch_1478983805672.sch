EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:special
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:frep
LIBS:labPsu-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 3 5
Title "Lab Psu (0-20V 0-2A)"
Date "2016-11-06"
Rev "B"
Comp ""
Comment1 "- based on David Jones' uSupply project"
Comment2 "- Preregulation with SEPIC converter "
Comment3 "- Powered from standard pc psu (12V)"
Comment4 "- 2 pcb concept. To be used together with frontpanel pcb"
$EndDescr
$Comp
L CP1 C13
U 1 1 57DD4052
P 2100 3150
F 0 "C13" H 2150 3250 50  0000 L CNN
F 1 "100uF" H 2150 3050 50  0000 L CNN
F 2 "" H 2100 3150 60  0001 C CNN
F 3 "" H 2100 3150 60  0000 C CNN
	1    2100 3150
	1    0    0    -1  
$EndComp
$Comp
L CP1 C18
U 1 1 57DD4059
P 8400 3150
F 0 "C18" H 8450 3250 50  0000 L CNN
F 1 "100uF" H 8450 3050 50  0000 L CNN
F 2 "" H 8400 3150 60  0001 C CNN
F 3 "" H 8400 3150 60  0000 C CNN
	1    8400 3150
	1    0    0    -1  
$EndComp
$Comp
L LT1370 U6
U 1 1 57DD4060
P 3650 3400
F 0 "U6" H 3775 3875 60  0000 C CNN
F 1 "LT1370" H 3150 3900 60  0000 C CNN
F 2 "" H 3650 3400 60  0001 C CNN
F 3 "" H 3650 3400 60  0000 C CNN
	1    3650 3400
	1    0    0    -1  
$EndComp
NoConn ~ 2650 3150
$Comp
L JUMPER3 JP2
U 1 1 57DD4068
P 2550 3650
F 0 "JP2" H 2600 3550 40  0000 L CNN
F 1 "JUMPER3" H 2550 3750 40  0000 C CNN
F 2 "frep:Pin_Proto_Straight_1x03" H 2550 3650 60  0001 C CNN
F 3 "" H 2550 3650 60  0000 C CNN
	1    2550 3650
	0    -1   -1   0   
$EndComp
Wire Wire Line
	2550 2700 2550 3400
Wire Wire Line
	1900 2700 3850 2700
$Comp
L GND #PWR034
U 1 1 57DD4073
P 2100 3350
F 0 "#PWR034" H 2100 3350 30  0001 C CNN
F 1 "GND" H 2100 3280 30  0001 C CNN
F 2 "" H 2100 3350 60  0000 C CNN
F 3 "" H 2100 3350 60  0000 C CNN
	1    2100 3350
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR035
U 1 1 57DD4079
P 3400 4200
F 0 "#PWR035" H 3400 4200 30  0001 C CNN
F 1 "GND" H 3400 4130 30  0001 C CNN
F 2 "" H 3400 4200 60  0000 C CNN
F 3 "" H 3400 4200 60  0000 C CNN
	1    3400 4200
	1    0    0    -1  
$EndComp
Wire Wire Line
	3400 4100 3400 4200
Connection ~ 2550 2700
Text HLabel 1900 2700 0    60   Input ~ 0
V_IN
Text HLabel 8700 2700 2    60   Output ~ 0
V_OUT
Text HLabel 8050 4250 2    60   Input ~ 0
SCL
Connection ~ 2100 2700
Text HLabel 1900 4050 0    60   Input ~ 0
En
Wire Wire Line
	1900 4050 2550 4050
Wire Wire Line
	2550 4050 2550 3900
$Comp
L R R26
U 1 1 57DD4D23
P 3900 4350
F 0 "R26" V 3980 4350 40  0000 C CNN
F 1 "2K" V 3907 4351 40  0000 C CNN
F 2 "" V 3830 4350 30  0001 C CNN
F 3 "" H 3900 4350 30  0000 C CNN
	1    3900 4350
	1    0    0    -1  
$EndComp
$Comp
L C C14
U 1 1 57DD4D5A
P 3900 4800
F 0 "C14" H 3900 4900 40  0000 L CNN
F 1 "470nF" H 3906 4715 40  0000 L CNN
F 2 "" H 3938 4650 30  0001 C CNN
F 3 "" H 3900 4800 60  0000 C CNN
	1    3900 4800
	1    0    0    -1  
$EndComp
$Comp
L C C15
U 1 1 57DD4DBC
P 4150 4800
F 0 "C15" H 4150 4900 40  0000 L CNN
F 1 "4n7F" H 4156 4715 40  0000 L CNN
F 2 "" H 4188 4650 30  0001 C CNN
F 3 "" H 4150 4800 60  0000 C CNN
	1    4150 4800
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR036
U 1 1 57DD4E4B
P 3650 4200
F 0 "#PWR036" H 3650 4200 30  0001 C CNN
F 1 "GND" H 3650 4130 30  0001 C CNN
F 2 "" H 3650 4200 60  0000 C CNN
F 3 "" H 3650 4200 60  0000 C CNN
	1    3650 4200
	1    0    0    -1  
$EndComp
Wire Wire Line
	3650 4100 3650 4200
$Comp
L GND #PWR037
U 1 1 57DD4EED
P 3900 5150
F 0 "#PWR037" H 3900 5150 30  0001 C CNN
F 1 "GND" H 3900 5080 30  0001 C CNN
F 2 "" H 3900 5150 60  0000 C CNN
F 3 "" H 3900 5150 60  0000 C CNN
	1    3900 5150
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR038
U 1 1 57DD4F0D
P 4150 5150
F 0 "#PWR038" H 4150 5150 30  0001 C CNN
F 1 "GND" H 4150 5080 30  0001 C CNN
F 2 "" H 4150 5150 60  0000 C CNN
F 3 "" H 4150 5150 60  0000 C CNN
	1    4150 5150
	1    0    0    -1  
$EndComp
Wire Wire Line
	3900 4100 4150 4100
Wire Wire Line
	4150 4100 4150 4600
Connection ~ 3900 4100
$Comp
L InductorsCoupled L1
U 1 1 57DD5172
P 4250 2700
F 0 "L1" H 4250 2600 60  0000 C CNN
F 1 "22uH" H 4250 2825 60  0000 C CNN
F 2 "" H 4250 2700 60  0001 C CNN
F 3 "" H 4250 2700 60  0000 C CNN
	1    4250 2700
	1    0    0    -1  
$EndComp
$Comp
L InductorsCoupled L1
U 2 1 57DD51B0
P 5050 3100
F 0 "L1" H 5050 3000 60  0000 C CNN
F 1 "22uH" H 5050 3225 60  0000 C CNN
F 2 "" H 5050 3100 60  0001 C CNN
F 3 "" H 5050 3100 60  0000 C CNN
	2    5050 3100
	0    1    -1   0   
$EndComp
Connection ~ 3650 2700
Wire Wire Line
	4650 2700 4650 3150
$Comp
L C C16
U 1 1 57DD5296
P 4850 2700
F 0 "C16" H 4850 2800 40  0000 L CNN
F 1 "4u7F" H 4856 2615 40  0000 L CNN
F 2 "" H 4888 2550 30  0001 C CNN
F 3 "" H 4850 2700 60  0000 C CNN
	1    4850 2700
	0    1    1    0   
$EndComp
$Comp
L GND #PWR039
U 1 1 57DD5424
P 5050 3500
F 0 "#PWR039" H 5050 3500 30  0001 C CNN
F 1 "GND" H 5050 3430 30  0001 C CNN
F 2 "" H 5050 3500 60  0000 C CNN
F 3 "" H 5050 3500 60  0000 C CNN
	1    5050 3500
	1    0    0    -1  
$EndComp
$Comp
L DIODESCH D1
U 1 1 57DD5445
P 5400 2700
F 0 "D1" H 5400 2800 40  0000 C CNN
F 1 "V8PAN50-M3" H 5400 2600 40  0000 C CNN
F 2 "" H 5400 2700 60  0001 C CNN
F 3 "" H 5400 2700 60  0000 C CNN
	1    5400 2700
	1    0    0    -1  
$EndComp
Wire Wire Line
	5200 2700 5050 2700
$Comp
L R R27
U 1 1 57DD5648
P 5750 3150
F 0 "R27" V 5830 3150 40  0000 C CNN
F 1 "18K" V 5757 3151 40  0000 C CNN
F 2 "" V 5680 3150 30  0001 C CNN
F 3 "" H 5750 3150 30  0000 C CNN
	1    5750 3150
	1    0    0    -1  
$EndComp
$Comp
L R R28
U 1 1 57DD56C7
P 5750 4000
F 0 "R28" V 5830 4000 40  0000 C CNN
F 1 "10K" V 5757 4001 40  0000 C CNN
F 2 "" V 5680 4000 30  0001 C CNN
F 3 "" H 5750 4000 30  0000 C CNN
	1    5750 4000
	1    0    0    -1  
$EndComp
$Comp
L R R29
U 1 1 57DD5713
P 5750 4650
F 0 "R29" V 5830 4650 40  0000 C CNN
F 1 "10K" V 5757 4651 40  0000 C CNN
F 2 "" V 5680 4650 30  0001 C CNN
F 3 "" H 5750 4650 30  0000 C CNN
	1    5750 4650
	1    0    0    -1  
$EndComp
Wire Wire Line
	4650 3650 6300 3650
$Comp
L GND #PWR040
U 1 1 57DD5B21
P 5750 5150
F 0 "#PWR040" H 5750 5150 30  0001 C CNN
F 1 "GND" H 5750 5080 30  0001 C CNN
F 2 "" H 5750 5150 60  0000 C CNN
F 3 "" H 5750 5150 60  0000 C CNN
	1    5750 5150
	1    0    0    -1  
$EndComp
Connection ~ 5750 3650
Wire Wire Line
	5750 4250 5750 4400
Wire Wire Line
	5750 4900 5750 5150
$Comp
L R R30
U 1 1 57DD5CA4
P 6300 4000
F 0 "R30" V 6380 4000 40  0000 C CNN
F 1 "0R" V 6307 4001 40  0000 C CNN
F 2 "" V 6230 4000 30  0001 C CNN
F 3 "" H 6300 4000 30  0000 C CNN
	1    6300 4000
	1    0    0    -1  
$EndComp
$Comp
L AD5274 U7
U 1 1 57DD5DF2
P 7250 4350
F 0 "U7" H 7250 4725 60  0000 C CNN
F 1 "AD5274" H 7250 3975 60  0000 C CNN
F 2 "" H 7250 4225 60  0001 C CNN
F 3 "" H 7250 4225 60  0000 C CNN
	1    7250 4350
	1    0    0    -1  
$EndComp
Text HLabel 8700 3900 2    60   Input ~ 0
3V3Reg
$Comp
L C C17
U 1 1 57DD6B53
P 6550 4750
F 0 "C17" H 6550 4850 40  0000 L CNN
F 1 "1uF" H 6556 4665 40  0000 L CNN
F 2 "" H 6588 4600 30  0001 C CNN
F 3 "" H 6550 4750 60  0000 C CNN
	1    6550 4750
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR041
U 1 1 57DD6BEC
P 6550 4450
F 0 "#PWR041" H 6550 4450 30  0001 C CNN
F 1 "GND" H 6550 4380 30  0001 C CNN
F 2 "" H 6550 4450 60  0000 C CNN
F 3 "" H 6550 4450 60  0000 C CNN
	1    6550 4450
	0    1    1    0   
$EndComp
$Comp
L GND #PWR042
U 1 1 57DD6D24
P 6550 5150
F 0 "#PWR042" H 6550 5150 30  0001 C CNN
F 1 "GND" H 6550 5080 30  0001 C CNN
F 2 "" H 6550 5150 60  0000 C CNN
F 3 "" H 6550 5150 60  0000 C CNN
	1    6550 5150
	1    0    0    -1  
$EndComp
Wire Wire Line
	6300 4250 6550 4250
Wire Wire Line
	6550 4350 6300 4350
Wire Wire Line
	6300 4900 5750 4900
Connection ~ 5750 4900
$Comp
L GND #PWR043
U 1 1 57DD6F45
P 7950 4550
F 0 "#PWR043" H 7950 4550 30  0001 C CNN
F 1 "GND" H 7950 4480 30  0001 C CNN
F 2 "" H 7950 4550 60  0000 C CNN
F 3 "" H 7950 4550 60  0000 C CNN
	1    7950 4550
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR044
U 1 1 57DD6F83
P 7950 4150
F 0 "#PWR044" H 7950 4150 30  0001 C CNN
F 1 "GND" H 7950 4080 30  0001 C CNN
F 2 "" H 7950 4150 60  0000 C CNN
F 3 "" H 7950 4150 60  0000 C CNN
	1    7950 4150
	0    -1   -1   0   
$EndComp
Text HLabel 8050 4350 2    60   Input ~ 0
SDA
Wire Wire Line
	7950 4450 8400 4450
Wire Wire Line
	8400 4450 8400 3900
Wire Wire Line
	6550 3900 8700 3900
Wire Wire Line
	8050 4250 7950 4250
Wire Wire Line
	8050 4350 7950 4350
Wire Wire Line
	2100 2950 2100 2700
Wire Wire Line
	8400 2700 8400 2950
Connection ~ 5750 2700
$Comp
L GND #PWR045
U 1 1 57DD7647
P 8400 3350
F 0 "#PWR045" H 8400 3350 30  0001 C CNN
F 1 "GND" H 8400 3280 30  0001 C CNN
F 2 "" H 8400 3350 60  0000 C CNN
F 3 "" H 8400 3350 60  0000 C CNN
	1    8400 3350
	1    0    0    -1  
$EndComp
Connection ~ 8400 2700
$Comp
L CONN_2 P9
U 1 1 581FF4E7
P 3650 2025
F 0 "P9" V 3600 2025 40  0000 C CNN
F 1 "Heatsink" V 3700 2025 40  0000 C CNN
F 2 "" H 3650 2025 60  0001 C CNN
F 3 "" H 3650 2025 60  0000 C CNN
	1    3650 2025
	0    -1   -1   0   
$EndComp
NoConn ~ 3750 2375
NoConn ~ 3550 2375
Text Notes 6875 4925 0    60   ~ 0
i2c addr: 0101111 = 0x2F
Wire Wire Line
	6300 3650 6300 3750
Wire Wire Line
	6300 4350 6300 4900
Connection ~ 8400 3900
Wire Wire Line
	6550 3900 6550 4150
Wire Wire Line
	5600 2700 8700 2700
Wire Wire Line
	3900 5000 3900 5150
Wire Wire Line
	4150 5000 4150 5150
Wire Wire Line
	6550 4950 6550 5150
Wire Notes Line
	5550 3750 5550 5050
Wire Notes Line
	5550 5050 8550 5050
Wire Notes Line
	8550 5050 8550 3750
Wire Notes Line
	8550 3750 5550 3750
Wire Wire Line
	5750 2900 5750 2700
Wire Wire Line
	5750 3400 5750 3750
Text Notes 6875 5200 0    60   ~ 0
R_tot = (R28+R29)*(R30+AD5274)/((R28+R29)+(R30+AD5274))
Text Notes 6875 5400 0    60   ~ 0
V_out = 1.245*(1+(R27/R_tot))
Text Notes 6875 5625 0    60   ~ 0
AD5274 = 20K   =>  V_out = 3.49 
Text Notes 6875 5700 0    60   ~ 0
AD5274 = 1K    =>  V_out = 24.78 
$EndSCHEMATC
